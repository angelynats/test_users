{"version":3,"sources":["images/default-avatar.png","js/utils/api/apiInstance.js","js/utils/addNotification.js","js/redux/users/usersOperations.js","js/components/Modal/Modal.module.css","js/components/Modal/Modal.js","js/components/UserInfo/UserInfo.js","js/pages/Users/User.jsx"],"names":["api","apiInstance","axios","create","baseURL","interceptors","request","use","config","data","JSON","parse","localStorage","getItem","headers","accessToken","error","Promise","reject","response","token","stringify","setItem","refreshToken","status","removeItem","addNotification","type","title","message","store","insert","container","animationIn","animationOut","dismiss","duration","slidingEnter","timingFunction","delay","slidingExit","fetchUsers","since","dispatch","fetchUsersStart","get","then","fetchUsersSuccess","catch","fetchUsersError","fetchUser","id","fetchUserStart","fetchUserSuccess","fetchUserError","module","exports","Modal","backdropRef","createRef","handleKeyPress","e","code","props","onClose","handleBackdropClick","current","target","window","addEventListener","this","removeEventListener","className","styles","overlay","ref","onClick","modal","children","Component","UserInfo","user","onLike","onUnlike","isFavourite","name","followers","following","created_at","updated_at","company","email","location","blog","bio","login","avatar_url","html_url","useState","isModalOpen","setIsModalOpen","createdDate","useMemo","currentDate","Date","getTimezoneOffset","toLocaleDateString","toggleModalOpen","prev","style","right","zIndex","src","defaultAvatar","alt","href","rel","ReactTimeAgo","date","timeStyle","locale","User","useDispatch","history","useHistory","match","useRouteMatch","useSelector","state","users","usersSelectors","useEffect","usersOperations","params","usersActions","push","to","Loader"],"mappings":"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","file":"static/js/user.fe29ee55.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/default-avatar.522560c8.png\";","import axios from 'axios';\r\n\r\nconst apiInstance = axios.create({\r\n  baseURL: 'https://api.github.com',\r\n});\r\n\r\nconst setInterceptorsToApiInstance = api => {\r\n  api.interceptors.request.use(\r\n    config => {\r\n      const data = JSON.parse(localStorage.getItem('accessToken'));\r\n      if (data) {\r\n        config.headers['Authorization'] = `Bearer ${data.accessToken}`;\r\n      }\r\n      config.headers['Content-Type'] = 'application/json';\r\n      return config;\r\n    },\r\n    error => {\r\n      Promise.reject(error);\r\n    },\r\n  );\r\n\r\n  api.interceptors.response.use(\r\n    response => {\r\n      if (response.data.accessToken) {\r\n        const token = JSON.stringify({\r\n          accessToken: response.data.accessToken,\r\n        });\r\n        localStorage.setItem('accessToken', token);\r\n      }\r\n      if (response.data.refreshToken) {\r\n        const token = JSON.stringify({\r\n          refreshToken: response.data.refreshToken,\r\n        });\r\n        localStorage.setItem('refreshToken', token);\r\n      }\r\n      return response;\r\n    },\r\n    error => {\r\n      if (error.response.status === 401) {\r\n        localStorage.removeItem('accessToken');\r\n        localStorage.removeItem('refreshToken');\r\n      }\r\n      return Promise.reject(error);\r\n    },\r\n  );\r\n};\r\n\r\nsetInterceptorsToApiInstance(apiInstance);\r\n\r\nexport default apiInstance;\r\n","import { store } from 'react-notifications-component';\r\n\r\nexport default function addNotification({\r\n  type = 'success',\r\n  title = '',\r\n  message = '',\r\n}) {\r\n  store.addNotification({\r\n    title: title,\r\n    message: message,\r\n    type: type,\r\n    insert: 'bottom',\r\n    container: 'bottom-right',\r\n    animationIn: ['animate__animated', 'animate__fadeIn'],\r\n    animationOut: ['animate__animated', 'animate__fadeOut'],\r\n    dismiss: {\r\n      duration: 4000,\r\n    },\r\n    slidingEnter: {\r\n      duration: 800,\r\n      timingFunction: 'ease-out',\r\n      delay: 0,\r\n    },\r\n    slidingExit: {\r\n      duration: 800,\r\n      timingFunction: 'ease-out',\r\n      delay: 0,\r\n    },\r\n  });\r\n}\r\n","import {\r\n  fetchUsersStart,\r\n  fetchUsersSuccess,\r\n  fetchUsersError,\r\n  fetchUserStart,\r\n  fetchUserSuccess,\r\n  fetchUserError,\r\n} from './usersActions';\r\n\r\nimport apiInstance from '../../utils/api/apiInstance';\r\nimport addNotification from '../../utils/addNotification';\r\n\r\nexport const fetchUsers = since => dispatch => {\r\n  dispatch(fetchUsersStart());\r\n  apiInstance\r\n    .get(`/users?since=${since}&per_page=12`)\r\n    .then(response => {\r\n      dispatch(fetchUsersSuccess(response.data));\r\n    })\r\n    .catch(error => {\r\n      dispatch(fetchUsersError(error.response));\r\n      addNotification({\r\n        type: 'danger',\r\n        title: 'Oops!',\r\n        message: 'Something went wrong',\r\n      });\r\n    });\r\n};\r\n\r\nexport const fetchUser = id => dispatch => {\r\n  dispatch(fetchUserStart());\r\n  apiInstance\r\n    .get(`/users/${id}`)\r\n    .then(response => {\r\n      dispatch(fetchUserSuccess(response.data));\r\n      addNotification({\r\n        type: 'success',\r\n        title: 'Great!',\r\n        message: 'User was loaded successfully',\r\n      });\r\n    })\r\n    .catch(error => {\r\n      dispatch(fetchUserError(error.response));\r\n      addNotification({\r\n        type: 'danger',\r\n        title: 'Oops!',\r\n        message: 'Something went wrong',\r\n      });\r\n    });\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__355g0\",\"modal\":\"Modal_modal__1fn-M\"};","import React, { Component, createRef } from \"react\";\r\nimport styles from \"./Modal.module.css\";\r\n\r\nexport default class Modal extends Component {\r\n  backdropRef = createRef();\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyPress);\r\n  }\r\n\r\n  handleKeyPress = (e) => {\r\n    if (e.code !== \"Escape\") return;\r\n    this.props.onClose();\r\n  };\r\n\r\n  handleBackdropClick = (e) => {\r\n    const { current } = this.backdropRef;\r\n    if (current && e.target !== current) return;\r\n    this.props.onClose();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className={styles.overlay}\r\n        ref={this.backdropRef}\r\n        onClick={this.handleBackdropClick}\r\n      >\r\n        <div className={styles.modal}>{this.props.children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { useMemo, useState } from 'react';\r\n\r\nimport ReactTimeAgo from 'react-time-ago';\r\n\r\nimport Modal from '../../components/Modal/Modal';\r\nimport defaultAvatar from '../../../images/default-avatar.png';\r\n\r\nconst UserInfo = ({ user, onLike, onUnlike, isFavourite }) => {\r\n  const {\r\n    name,\r\n    followers,\r\n    following,\r\n    created_at,\r\n    updated_at,\r\n    company,\r\n    email,\r\n    location,\r\n    blog,\r\n    bio,\r\n    login,\r\n    avatar_url,\r\n    html_url,\r\n  } = user;\r\n\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n\r\n  const createdDate = useMemo(() => {\r\n    const currentDate =\r\n      Date.parse(created_at) + new Date().getTimezoneOffset() * 60 * 1000;\r\n    return new Date(currentDate).toLocaleDateString('en-US');\r\n  }, [created_at]);\r\n\r\n  const toggleModalOpen = () => {\r\n    setIsModalOpen(prev => !prev);\r\n  };\r\n\r\n  return (\r\n    <div className=\"card mb-3 position-relative\">\r\n      <button\r\n        type=\"button\"\r\n        title={isFavourite ? 'Dislike' : 'Like'}\r\n        className=\"position-absolute btn shadow-none\"\r\n        style={{ right: 0, zIndex: 100 }}\r\n        onClick={() => (isFavourite ? onUnlike(user.id) : onLike(user))}\r\n      >\r\n        {isFavourite ? (\r\n          <i className=\"bi bi-heart-fill text-danger h2\"></i>\r\n        ) : (\r\n          <i className=\"bi bi-heart h2\"></i>\r\n        )}\r\n      </button>\r\n\r\n      <div className=\"row g-0\">\r\n        <div className=\"col-md-4\">\r\n          <img\r\n            src={avatar_url || defaultAvatar}\r\n            className=\"img-fluid rounded-start image_standart image_card\"\r\n            alt={login}\r\n            onClick={toggleModalOpen}\r\n            type=\"button\"\r\n          />\r\n        </div>\r\n        <div className=\"col-md-8\">\r\n          <div className=\"card-body\">\r\n            <h5 className=\"card-title\">{name || login || 'No name'}</h5>\r\n            <p className=\"card-text\">\r\n              <a\r\n                href={html_url}\r\n                target=\"_blank\"\r\n                rel=\"noreferrer\"\r\n                className=\"card-link\"\r\n              >\r\n                GitHub\r\n              </a>\r\n            </p>\r\n            {email && <p className=\"card-text\">Email: {email}</p>}\r\n            {company && <p className=\"card-text\">Company: {company}</p>}\r\n            {location && <p className=\"card-text\">Location: {location}</p>}\r\n            {bio && <p className=\"card-text\">{bio}</p>}\r\n            {blog && <p className=\"card-text\">{blog}</p>}\r\n            <p className=\"card-text\">Followers: {followers}</p>\r\n            <p className=\"card-text\">Following: {following}</p>\r\n            <p className=\"card-text\">Registered in {createdDate}</p>\r\n            <p className=\"card-text\">\r\n              <small className=\"text-muted\">\r\n                Last updated\r\n                <ReactTimeAgo\r\n                  date={Date.parse(updated_at)}\r\n                  timeStyle=\"round-minute\"\r\n                  locale=\"en-US\"\r\n                  className=\"ml-1\"\r\n                />\r\n              </small>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {avatar_url && isModalOpen && (\r\n        <Modal onClose={toggleModalOpen}>\r\n          <img src={avatar_url} alt={login} className=\"img-fluid\" />\r\n        </Modal>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserInfo;\r\n","import React, { useEffect } from 'react';\r\nimport { Link, useRouteMatch, useHistory } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport UserInfo from '../../components/UserInfo/UserInfo.js';\r\nimport Loader from '../../components/Loader/Loader';\r\n\r\nimport * as usersOperations from '../../redux/users/usersOperations';\r\nimport * as usersActions from '../../redux/users/usersActions';\r\nimport * as usersSelectors from '../../redux/users/usersSelectors';\r\n\r\nconst User = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const match = useRouteMatch();\r\n  const user = useSelector(state => state.users.user);\r\n  const error = useSelector(state => state.users.error);\r\n\r\n  const isFavourite = useSelector(state =>\r\n    usersSelectors.getIsUserInFavourites(state, user && user.id),\r\n  );\r\n\r\n  useEffect(() => {\r\n    dispatch(usersOperations.fetchUser(match.params.id));\r\n    return () => dispatch(usersActions.clearUser());\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (error && error.status === 404) {\r\n      history.push('/error404');\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [error]);\r\n\r\n  const handleLike = user => {\r\n    dispatch(usersActions.likeUser(user));\r\n  };\r\n\r\n  const handleUnlike = id => {\r\n    dispatch(usersActions.unlikeUser(id));\r\n  };\r\n\r\n  return (\r\n    <div className=\"container pt-5\">\r\n      <div className=\"page-header\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12 mb-3\">\r\n            <h3 className=\"page-title \">User Information</h3>\r\n          </div>\r\n          <div className=\"col-12\">\r\n            <ul className=\"breadcrumb\">\r\n              <li className=\"breadcrumb-item\">\r\n                <Link to=\"/\" className=\"text-secondary\">\r\n                  Home\r\n                </Link>\r\n              </li>\r\n              <li className=\"breadcrumb-item\">\r\n                <Link to=\"/users\" className=\"text-secondary\">\r\n                  Users\r\n                </Link>\r\n              </li>\r\n              <li className=\"breadcrumb-item active text-secondary\">\r\n                User Information\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {!user && <Loader />}\r\n      {user && (\r\n        <UserInfo\r\n          onLike={handleLike}\r\n          onUnlike={handleUnlike}\r\n          user={user}\r\n          isFavourite={isFavourite}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n"],"sourceRoot":""}